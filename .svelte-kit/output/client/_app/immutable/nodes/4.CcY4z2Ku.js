import"../chunks/DsnmJJEf.js";import"../chunks/OiL74QB5.js";import{aa as re,ab as N,ac as P,a as h,ad as le,ae as a,af as s,ag as l,g as e,m as _,s as i,ah as W,n as oe,t as $}from"../chunks/DFUQbp1x.js";import{e as C,s as z}from"../chunks/BrEPatKm.js";import{i as O}from"../chunks/Rfqus09g.js";import{r as ne}from"../chunks/9XHtB8tL.js";import{s as J}from"../chunks/C8k8eT28.js";import{t as w,s as B,a as ve}from"../chunks/6L04T-A-.js";import{b as de}from"../chunks/CzZhIt5y.js";import{i as ce}from"../chunks/Dw2NSaBM.js";import{g as me}from"../chunks/Dd8LfxSm.js";var pe=N("<div><span> </span></div>"),ge=N('<div class="title-section svelte-14gk0mt"><h1 class="main-title svelte-14gk0mt">FORGOT PASSWORD</h1> <p class="sub-title svelte-14gk0mt">Please enter your email to reset the password</p></div> <div class="form-section svelte-14gk0mt"><div class="form-group svelte-14gk0mt"><label class="label svelte-14gk0mt" for="email">Email</label> <div><input id="email" type="email" placeholder="Enter your email" class="svelte-14gk0mt"/></div></div> <!> <button class="primary-btn svelte-14gk0mt"><!></button></div>',1),ue=N('<div class="icon-wrapper svelte-14gk0mt"><div class="success-circle svelte-14gk0mt"><svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg></div></div> <div class="title-section svelte-14gk0mt" style="text-align: center;"><h1 class="main-title svelte-14gk0mt">CHECK YOUR EMAIL</h1> <p class="sub-title svelte-14gk0mt">We sent a reset link to <span style="color: white; font-weight: 600;"> </span><br/> Please click the link in that email to set a new password.</p></div> <div class="footer-text svelte-14gk0mt">Havenâ€™t got the email yet? <button class="resend-link svelte-14gk0mt">Resend email</button></div>',1),fe=N('<div class="app-screen svelte-14gk0mt"><div class="glass-header svelte-14gk0mt"><button class="back-btn svelte-14gk0mt" aria-label="Back"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg></button></div> <div class="scroll-container svelte-14gk0mt"><div class="content-wrapper svelte-14gk0mt"><div class="form-card svelte-14gk0mt"><!> <!></div></div></div></div>');function Ce(U,V){re(V,!1);const Y="http://158.108.102.14:8001";let m=_(1),c=_(!1),p=_(""),I=_("error"),b,x=_("");function E(t,o="error",v=""){b&&clearTimeout(b),i(p,t),i(I,o),v&&i(x,v),b=setTimeout(()=>{i(p,""),i(x,"")},3e3)}function M(){e(p)&&(i(p,""),i(x,""),b&&clearTimeout(b))}let g=_("");function q(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}async function R(){if(M(),!e(g))return E("Please enter your email.","error","email");if(!q(e(g)))return E("Please enter a valid email address.","error","email");i(c,!0);try{const t=await fetch(`${Y}/api/users/forgot-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e(g)})}),o=await t.json().catch(()=>({}));t.ok?i(m,2):E(o.detail||"Failed to send email.","error","email")}catch{E("Cannot connect to server.","error","email")}finally{i(c,!1)}}function Q(){e(m)===2?i(m,1):me("/auth/login")}ce();var j=fe(),A=a(j),D=a(A);s(A);var F=l(A,2),H=a(F),L=a(H),G=a(L);{var X=t=>{var o=ge(),v=W(o),d=l(v,2),u=a(d),f=l(a(u),2),k=a(f);ne(k),s(f),s(u);var y=l(u,2);{var S=r=>{var n=pe(),K=a(n),ie=a(K,!0);s(K),s(n),P(()=>{J(n,1,`message-container ${e(I)??""}`,"svelte-14gk0mt"),z(ie,e(p))}),w(3,n,()=>B,()=>({duration:200})),h(r,n)};O(y,r=>{e(p)&&r(S)})}var T=l(y,2),te=a(T);{var ae=r=>{var n=$("SENDING...");h(r,n)},se=r=>{var n=$("SEND LINK");h(r,n)};O(te,r=>{e(c)?r(ae):r(se,!1)})}s(T),s(d),P(()=>{J(f,1,`input-field ${e(x)==="email"?"error-border":""}`,"svelte-14gk0mt"),k.disabled=e(c),T.disabled=e(c)}),w(1,v,()=>B),de(k,()=>e(g),r=>i(g,r)),C("input",k,M),C("click",T,R),w(1,d,()=>B),h(t,o)};O(G,t=>{e(m)===1&&t(X)})}var Z=l(G,2);{var ee=t=>{var o=ue(),v=W(o),d=l(v,2),u=l(a(d),2),f=l(a(u)),k=a(f,!0);s(f),oe(2),s(u),s(d);var y=l(d,2),S=l(a(y));s(y),P(()=>{z(k,e(g)),S.disabled=e(c)}),w(1,v,()=>ve,()=>({duration:400,start:.5})),w(1,d,()=>B),C("click",S,()=>{i(m,1),R()}),h(t,o)};O(Z,t=>{e(m)===2&&t(ee)})}s(L),s(H),s(F),s(j),P(()=>D.disabled=e(c)),C("click",D,Q),h(U,j),le()}export{Ce as component};
